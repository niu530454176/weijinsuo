/*! spmseajs 2017-06-07 */
define("MOD_ROOT/lazyinit/lazyinit",["jquery"],function(a,b,c){function d(a){this.init(a)}function e(){var b=new d;b.bindFun(f(".pop-recipes"),function(){a.async(["MOD_ROOT/pop-recipes/pop-recipes"],function(a){a.init(f(".pop-recipes"))})}),b.bindFun(f(".pop-keywords"),function(){a.async(["MOD_ROOT/pop-keywords/pop-keywords"],function(a){a.init(f(".pop-keywords"))})})}var f=a("jquery");d.prototype={init:function(a){var b=this;b.threshold=100,b.opts=a,b.mapArr=[],b.supportRect=b.supportClientRect(),b.$w=f(window),b.bindEvent()},bindEvent:function(){var a=this;a.$w.bind("scroll.lazyload",function(){for(var b=0;b<a.mapArr.length;b++){var c=a.mapArr[b];c&&c.$el&&c.$el.length&&a.inWindow(c.$el)&&c.callback&&"function"==typeof c.callback&&(c.callback(),a.mapArr.splice(b--,1))}})},bindFun:function(a,b){var c=this,d={$el:a,callback:b};c.mapArr.push(d)},supportClientRect:function(){if(void 0!==this.isSupportClientRect)return this.isSupportClientRect;var a=document.createElement("div"),b="getBoundingClientRect"in a;return a=null,this.isSupportClientRect=b,b},inWindow:function(a){var b=this.$w.height(),c=f("body").scrollTop()||f("html").scrollTop();if(this.supportRect){var d=a.get(0).getBoundingClientRect(),e=d.top,g=d.left,h=d.top+d.height;return e>=0&&g>=0&&e<=b+this.threshold||e<0||h>=0&&g>=0&&h<=b}var e=a.offset().top,i=a.height(),h=e+i;return e<b+c+this.threshold&&e>c||h<b+c&&h>c}},c.exports.__id="lazyinit",c.exports.init=e});