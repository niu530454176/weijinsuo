/*! spmseajs 2017-06-05 */
define("MOD_ROOT/slider/slider",["jquery"],function(a,b,c){function d(a){this.init(a)}var e=a("jquery");return d.prototype={$slide:null,$arrowLeft:null,$arrowRight:null,$items:null,$li:null,$dot:null,index:0,timeoutId:0,speed:500,delay:2e3,autoPlay:!0,onchange:e.noop,init:function(a){var b=this;b.$slide=a.$target,b.$arrowLeft=b.$slide.find(".J-arrow-left"),b.$arrowRight=b.$slide.find(".J-arrow-right"),b.$items=b.$slide.find(".J-items"),b.$li=b.$items.find("li"),b.$dot=b.$slide.find(".dots .dot"),e.extend(b,a),b.copyLi(),b.addEvents(),b.change(b.index,!1),b.autoPlay&&b.autoMove()},copyLi:function(){var a=this,b=a.$li.first().clone();a.$items.append(b),a.$li=a.$items.find("li")},addEvents:function(){var a=this;a.$arrowLeft.click(function(){a.move("left")}),a.$arrowRight.click(function(){a.move("right")}),a.$dot.click(function(){var b=e(this).index();a.change(b,!0)})},move:function(a){var b=this;"left"==a?(0==b.index&&b.change(5,!1),b.index--):b.index++,b.change(b.index,!0)},change:function(a,b){var c=this;c.index=a,c.index<0&&(c.index=c.$li.length-1),c.index>c.$li.length-1&&(c.index=0),clearTimeout(c.timeoutId),5==c.index?c.$dot.removeClass("active").eq(0).addClass("active"):c.$dot.removeClass("active").eq(c.index).addClass("active"),b?c.$items.stop().animate({marginLeft:c.$li.width()*-c.index},c.speed,function(){5==c.index&&c.change(0,!1),c.autoPlay&&c.autoMove()}):(c.$items.stop().css("marginLeft",c.$li.width()*-c.index),c.autoPlay&&c.autoMove()),c.index<c.length&&c.onchange(c.index)},autoMove:function(){var a=this;a.timeoutId=setTimeout(function(){a.move("right")},a.delay)}},d});